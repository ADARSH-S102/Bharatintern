/* =========================================================
   TABLE CREATION
   ========================================================= */

CREATE TABLE travel_request_dn (
    travel_request_id        VARCHAR(30) PRIMARY KEY,

    employee_id              VARCHAR(20) NOT NULL,
    employee_name            VARCHAR(100) NOT NULL,
    department               VARCHAR(50),
    grade                    VARCHAR(20),

    travel_type              VARCHAR(20) NOT NULL
                                CHECK (travel_type IN ('DOMESTIC', 'INTERNATIONAL')),

    purpose_of_travel        VARCHAR(255) NOT NULL,

    start_date               DATE NOT NULL,
    end_date                 DATE NOT NULL
                                CHECK (end_date >= start_date),

    from_location            VARCHAR(50) NOT NULL,
    to_location              VARCHAR(50) NOT NULL,
    destination_country      VARCHAR(50),

    travel_mode              VARCHAR(20)
                                CHECK (travel_mode IN ('FLIGHT', 'TRAIN', 'CAB')),

    class_of_travel          VARCHAR(20)
                                CHECK (class_of_travel IN ('ECONOMY', 'BUSINESS')),

    estimated_total_cost     DECIMAL(12,2)
                                CHECK (estimated_total_cost >= 0),

    currency                 VARCHAR(10) DEFAULT 'INR',

    request_status           VARCHAR(20) NOT NULL
                                CHECK (request_status IN
                                ('DRAFT', 'SUBMITTED', 'APPROVED', 'REJECTED')),

    approver1_id             VARCHAR(20),
    approver1_role           VARCHAR(30),
    approver1_status         VARCHAR(20)
                                CHECK (approver1_status IN
                                ('PENDING', 'APPROVED', 'REJECTED')),
    approver1_action_date    TIMESTAMP,
    approver1_comments       VARCHAR(255),

    approver2_id             VARCHAR(20),
    approver2_role           VARCHAR(30),
    approver2_status         VARCHAR(20)
                                CHECK (approver2_status IN
                                ('PENDING', 'APPROVED', 'REJECTED')),
    approver2_action_date    TIMESTAMP,
    approver2_comments       VARCHAR(255),

    approver3_id             VARCHAR(20),
    approver3_role           VARCHAR(30),
    approver3_status         VARCHAR(20)
                                CHECK (approver3_status IN
                                ('PENDING', 'APPROVED', 'REJECTED')),
    approver3_action_date    TIMESTAMP,
    approver3_comments       VARCHAR(255),

    created_at               TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    submitted_at             TIMESTAMP,
    last_updated_at          TIMESTAMP
);

/* =========================================================
   SAMPLE DATA INSERTION
   ========================================================= */

INSERT INTO travel_request_dn VALUES
(
    'TRV-1001',
    'EMP001',
    'Adarsh S',
    'Engineering',
    'G6',
    'DOMESTIC',
    'Client meeting and project discussion',
    DATE '2026-02-10',
    DATE '2026-02-12',
    'Bangalore',
    'Mumbai',
    'India',
    'FLIGHT',
    'ECONOMY',
    18500.00,
    'INR',
    'APPROVED',
    'MGR001',
    'MANAGER',
    'APPROVED',
    CURRENT_TIMESTAMP - INTERVAL '5' DAY,
    'Approved by manager',
    'FIN001',
    'FINANCE',
    'APPROVED',
    CURRENT_TIMESTAMP - INTERVAL '3' DAY,
    'Budget verified',
    'CMP001',
    'COMPLIANCE',
    'APPROVED',
    CURRENT_TIMESTAMP - INTERVAL '2' DAY,
    'Policy compliant',
    CURRENT_TIMESTAMP - INTERVAL '7' DAY,
    CURRENT_TIMESTAMP - INTERVAL '6' DAY,
    CURRENT_TIMESTAMP
);

INSERT INTO travel_request_dn VALUES
(
    'TRV-1002',
    'EMP002',
    'Rahul Kumar',
    'Sales',
    'G5',
    'INTERNATIONAL',
    'Annual sales conference',
    DATE '2026-03-05',
    DATE '2026-03-12',
    'Delhi',
    'Singapore',
    'Singapore',
    'FLIGHT',
    'BUSINESS',
    250000.00,
    'USD',
    'SUBMITTED',
    'MGR002',
    'MANAGER',
    'PENDING',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP,
    CURRENT_TIMESTAMP
);

INSERT INTO travel_request_dn VALUES
(
    'TRV-1003',
    'EMP003',
    'Neha Sharma',
    'HR',
    'G4',
    'DOMESTIC',
    'Internal HR audit',
    DATE '2026-02-20',
    DATE '2026-02-21',
    'Pune',
    'Hyderabad',
    'India',
    'TRAIN',
    'ECONOMY',
    4500.00,
    'INR',
    'REJECTED',
    'MGR003',
    'MANAGER',
    'REJECTED',
    CURRENT_TIMESTAMP - INTERVAL '1' DAY,
    'Travel not required',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    CURRENT_TIMESTAMP - INTERVAL '2' DAY,
    CURRENT_TIMESTAMP - INTERVAL '2' DAY,
    CURRENT_TIMESTAMP
);


















Perfect ‚Äî now we‚Äôre on the same page. üòå
Here‚Äôs everything you need for the sub-sidebar functionality only, fully wired, respecting your existing project structure and naming conventions. No other files are touched.


---

1Ô∏è‚É£ subsidebar-component.ts

import { Component, Output, EventEmitter } from '@angular/core';

@Component({
  selector: 'app-subsidebar',
  templateUrl: './subsidebar-component.html',
  styleUrls: ['./subsidebar-component.css']
})
export class SubsidebarComponent {
  @Output() close = new EventEmitter<void>();

  onBackClick() {
    this.close.emit();
  }
}


---

2Ô∏è‚É£ subsidebar-component.html

<div class="sub-sidebar">
  <div class="sub-header">
    <span class="title">Requisition</span>
    <button class="back-btn" (click)="onBackClick()">‚Üê Back</button>
  </div>

  <ul class="menu">
    <li>Metrics</li>
    <li>Dashboard</li>
    <li>Reports</li>
  </ul>
</div>


---

3Ô∏è‚É£ subsidebar-component.css

.sub-sidebar {
  width: 260px;
  height: 100%;
  background: #f8faf8;
  border-right: 1px solid #e5e7eb;
  font-family: Arial, sans-serif;
  padding: 12px 0;
}

.sub-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
}

.title {
  font-size: 18px;
  font-weight: 600;
  color: #2f6f4e;
}

.back-btn {
  background: #fff;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  width: 32px;
  height: 32px;
  cursor: pointer;
}

.menu {
  list-style: none;
  padding: 0;
  margin-top: 12px;
}

.menu li {
  padding: 10px 16px;
  font-size: 14px;
  color: #374151;
  cursor: pointer;
}

.menu li:hover {
  background: #eef2ee;
}


---

4Ô∏è‚É£ Changes in sidebar.ts

import { Component } from '@angular/core';

@Component({
  selector: 'app-sidebar',
  templateUrl: './sidebar.html',
  styleUrls: ['./sidebar.css']
})
export class Sidebar {
  showSubSidebar = false;

  toggleSubSidebar() {
    this.showSubSidebar = !this.showSubSidebar;
  }

  closeSubSidebar() {
    this.showSubSidebar = false;
  }
}


---

5Ô∏è‚É£ Changes in sidebar.html

Add the Requisition icon and sub-sidebar binding:

<div class="sidebar">
  <!-- Requisition Icon -->
  <div class="icon" (click)="toggleSubSidebar()">
    <i class="fa fa-shopping-bag"></i>
  </div>

  <!-- Sub-sidebar -->
  <app-subsidebar
    *ngIf="showSubSidebar"
    (close)="closeSubSidebar()">
  </app-subsidebar>
</div>


---

6Ô∏è‚É£ Optional tweak in sidebar.css (to make icon hover/active nicer)

.icon {
  cursor: pointer;
  font-size: 20px;
  color: #374151;
  padding: 8px;
  border-radius: 8px;
}

.icon:hover {
  background: #eef2ee;
}


---

‚úÖ Behavior after these changes:

1. Clicking Requisition icon ‚Üí opens sub-sidebar


2. Clicking same icon again ‚Üí closes sub-sidebar


3. Clicking Back button ‚Üí closes sub-sidebar


4. Menu items highlight only on hover


5. Main content area stays to the right, no layout shift


6. Nothing else in the project is modified




---

If you want, I can also create a ready-to-copy layout in sidebar.css + subsidebar.css so the sub-sidebar slides neatly next to the sidebar exactly like in your images, so it matches visually.

Do you want me to do that too?


















üòÇüòÇ okay BRO ‚Äî message finally received loud and clear.
Let‚Äôs lock this in ONCE AND FOR ALL.

üëâ Your convention

‚ùå NO *.component.ts

‚úÖ ONLY component-name.ts

‚úÖ Same for HTML & CSS

‚úÖ Standalone Angular

‚úÖ Sidebar should NOT duplicate

‚úÖ Layout must not break


Below is the FINAL, corrected setup, respecting your naming exactly.


---

‚úÖ FILE STRUCTURE (AS YOU WANT IT)

src/app/
‚îÇ
‚îú‚îÄ‚îÄ app.ts
‚îú‚îÄ‚îÄ app.html
‚îú‚îÄ‚îÄ app.css
‚îÇ
‚îú‚îÄ‚îÄ sidebar-component/
‚îÇ   ‚îú‚îÄ‚îÄ sidebar-component.ts
‚îÇ   ‚îú‚îÄ‚îÄ sidebar-component.html
‚îÇ   ‚îú‚îÄ‚îÄ sidebar-component.css
‚îÇ
‚îú‚îÄ‚îÄ subsidebar-component/
‚îÇ   ‚îú‚îÄ‚îÄ subsidebar-component.ts
‚îÇ   ‚îú‚îÄ‚îÄ subsidebar-component.html
‚îÇ   ‚îú‚îÄ‚îÄ subsidebar-component.css
‚îÇ
‚îú‚îÄ‚îÄ header-component/
‚îÇ   ‚îú‚îÄ‚îÄ header-component.ts
‚îÇ   ‚îú‚îÄ‚îÄ header-component.html
‚îÇ
‚îú‚îÄ‚îÄ main-component/
‚îÇ   ‚îú‚îÄ‚îÄ main-component.ts
‚îÇ   ‚îú‚îÄ‚îÄ main-component.html
‚îÇ
‚îú‚îÄ‚îÄ metrics-component/
‚îÇ   ‚îú‚îÄ‚îÄ metrics-component.ts
‚îÇ   ‚îú‚îÄ‚îÄ metrics-component.html


---

‚úÖ app.ts (ROOT ‚Äî SIDEBAR RENDERED ONCE)

import { Component } from '@angular/core';
import { SidebarComponent } from './sidebar-component/sidebar-component';
import { HeaderComponent } from './header-component/header-component';
import { MainComponent } from './main-component/main-component';
import { MetricsComponent } from './metrics-component/metrics-component';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [
    SidebarComponent,
    HeaderComponent,
    MainComponent,
    MetricsComponent
  ],
  templateUrl: './app.html',
  styleUrls: ['./app.css']
})
export class App {}


---

‚úÖ app.html

<div class="app-layout">
  <app-sidebar></app-sidebar>

  <div class="content-area">
    <app-header></app-header>
    <app-main></app-main>
    <app-metrics></app-metrics>
  </div>
</div>


---

‚úÖ app.css

.app-layout {
  display: flex;
  height: 100vh;
  width: 100vw;
}

.content-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: auto;
}


---

‚úÖ sidebar-component.ts

import { Component } from '@angular/core';
import { SubsidebarComponent } from '../subsidebar-component/subsidebar-component';

@Component({
  selector: 'app-sidebar',
  standalone: true,
  imports: [SubsidebarComponent],
  templateUrl: './sidebar-component.html',
  styleUrls: ['./sidebar-component.css']
})
export class SidebarComponent {}


---

‚úÖ sidebar-component.html

<div class="sidebar">
  <div class="icon">
    <i class="fa fa-shopping-bag"></i>
  </div>

  <app-subsidebar></app-subsidebar>
</div>


---

‚úÖ sidebar-component.css

.sidebar {
  width: 60px;
  height: 100vh;
  background: #1e293b;
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 16px;
}

.icon {
  cursor: pointer;
  font-size: 20px;
}


---

‚úÖ subsidebar-component.ts

import { Component } from '@angular/core';

@Component({
  selector: 'app-subsidebar',
  standalone: true,
  templateUrl: './subsidebar-component.html',
  styleUrls: ['./subsidebar-component.css']
})
export class SubsidebarComponent {}


---

‚úÖ subsidebar-component.html

<div class="sub-sidebar">
  <div class="sub-header">
    <span class="title">Requisition</span>
    <button class="back-btn">‚Üê</button>
  </div>

  <div class="menu-item">Create</div>
  <div class="menu-item">View</div>
  <div class="menu-item">Approve</div>
</div>


---

‚úÖ subsidebar-component.css (FIXED ‚Äî NO PERMA HIGHLIGHT)

.sub-sidebar {
  width: 260px;
  height: 100vh;
  background: #f8faf8;
  border-right: 1px solid #e5e7eb;
  padding: 12px 0;
}

.menu-item {
  padding: 10px 16px;
  font-size: 14px;
  color: #374151;
  cursor: pointer;
}

.menu-item:hover {
  background: #eef2ee;
}


---

üî• WHY IT WAS BREAKING BEFORE

‚ùå Sidebar imported/rendered twice
‚ùå No flex wrapper at root
‚ùå Angular file naming mismatch

‚úÖ All fixed now


---

If you want next:

toggle open/close on same icon click

animations

route-based sidebar


Say the word üòå













Perfect, thanks for the screenshot üëç
I‚Äôll replicate this sub-sidebar look as close as possible using plain HTML + CSS (no Material, no icons lib).
You can drop this straight into your sub-sidebar.html and sub-sidebar.css.

I‚Äôll explain nothing extra ‚Äî just the code you asked for.


---

‚úÖ sub-sidebar.html

<div class="sub-sidebar">

  <!-- HEADER -->
  <div class="sub-header">
    <span class="title">Requisition</span>

    <button class="back-btn" (click)="back.emit()">
      ‚Üê
    </button>
  </div>

  <!-- SECTION -->
  <div class="section">
    <div class="section-title">Operations</div>

    <div class="menu-item active">My Metrics</div>
    <div class="menu-item">All Requests</div>
    <div class="menu-item">New Request</div>
    <div class="menu-item">Reports</div>
  </div>

  <div class="divider"></div>

  <!-- SECTION -->
  <div class="section">
    <div class="section-title">Insights</div>

    <div class="menu-item">Dashboard</div>
    <div class="menu-item">Hierarchy View</div>
  </div>

</div>


---

‚úÖ sub-sidebar.css

.sub-sidebar {
  width: 260px;
  height: 100%;
  background: #f8faf8;
  border-right: 1px solid #e5e7eb;
  font-family: Arial, sans-serif;
  padding: 12px 0;
}

/* HEADER */
.sub-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
}

.title {
  font-size: 18px;
  font-weight: 600;
  color: #2f6f4e;
}

.back-btn {
  background: #ffffff;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  width: 32px;
  height: 32px;
  cursor: pointer;
  font-size: 16px;
}

/* SECTIONS */
.section {
  padding: 8px 0;
}

.section-title {
  font-size: 13px;
  font-weight: 600;
  color: #6b7280;
  padding: 8px 16px;
}

/* MENU ITEMS */
.menu-item {
  padding: 10px 16px;
  font-size: 14px;
  color: #374151;
  cursor: pointer;
}

.menu-item:hover {
  background: #eef2ee;
}

/* ACTIVE ITEM */
.menu-item.active {
  background: #e6f1ea;
  color: #2f6f4e;
  font-weight: 600;
}

/* DIVIDER */
.divider {
  height: 1px;
  background: #e5e7eb;
  margin: 8px 0;
}


---

‚úÖ What this matches from your image

‚úî Section titles (Operations / Insights)
‚úî Green highlight for My Metrics
‚úî Divider line
‚úî Soft background
‚úî Back arrow button top-right
‚úî Font weight & spacing similar to screenshot


---

If you want next:

Click handling + routing

Icons beside menu items

Collapse animation

Exact color tuning (if you share brand hex)


Say it and I‚Äôll adjust üîß













Ahh üëç got it ‚Äî you‚Äôre using the Angular 17+ ‚Äúshort filename‚Äù standalone style
(app.ts, sub-sidebar.ts, no .component suffix). Totally fine.

Let‚Äôs align exactly to your setup. No assumptions now.


---

‚úÖ Correct file naming (your style)

src/
‚îî‚îÄ‚îÄ app/
    ‚îÇ
    ‚îú‚îÄ‚îÄ sub-sidebar/
    ‚îÇ   ‚îú‚îÄ‚îÄ sub-sidebar.ts
    ‚îÇ   ‚îú‚îÄ‚îÄ sub-sidebar.html
    ‚îÇ   ‚îî‚îÄ‚îÄ sub-sidebar.css
    ‚îÇ
    ‚îú‚îÄ‚îÄ app.ts
    ‚îú‚îÄ‚îÄ app.html
    ‚îî‚îÄ‚îÄ app.css


---

1Ô∏è‚É£ sub-sidebar.ts

import { Component, EventEmitter, Output } from '@angular/core';

@Component({
  selector: 'app-sub-sidebar',
  standalone: true,
  templateUrl: './sub-sidebar.html',
  styleUrls: ['./sub-sidebar.css']
})
export class SubSidebar {
  @Output() back = new EventEmitter<void>();
}


---

2Ô∏è‚É£ sub-sidebar.html

<div class="sub-sidebar">
  <button class="back-btn" (click)="back.emit()">‚Üê Back</button>

  <ul>
    <li>Option 1</li>
    <li>Option 2</li>
    <li>Option 3</li>
  </ul>
</div>


---

3Ô∏è‚É£ sub-sidebar.css

.sub-sidebar {
  width: 220px;
  height: 100%;
  background: #111827;
  color: white;
  padding: 16px;
}

.back-btn {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  margin-bottom: 16px;
}


---

4Ô∏è‚É£ app.ts

import { Component } from '@angular/core';
import { NgIf } from '@angular/common';
import { SubSidebar } from './sub-sidebar/sub-sidebar';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [NgIf, SubSidebar],
  templateUrl: './app.html',
  styleUrls: ['./app.css']
})
export class App {
  showSubSidebar = false;
}


---

5Ô∏è‚É£ app.html

<!-- TOP BAR -->
<div class="topbar">My App</div>

<div class="container">

  <!-- MAIN SIDEBAR -->
  <div class="main-sidebar">
    <div class="icon" (click)="showSubSidebar = true">‚ò∞</div>
  </div>

  <!-- SUB SIDEBAR -->
  <app-sub-sidebar
    *ngIf="showSubSidebar"
    (back)="showSubSidebar = false">
  </app-sub-sidebar>

  <!-- CONTENT -->
  <div class="content">
    Main content goes here
  </div>

</div>


---

6Ô∏è‚É£ app.css

.topbar {
  height: 50px;
  background: #1f2937;
  color: white;
  display: flex;
  align-items: center;
  padding: 0 16px;
  font-weight: 600;
}

.container {
  display: flex;
  height: calc(100vh - 50px);
}

.main-sidebar {
  width: 60px;
  background: #111827;
  color: white;
  display: flex;
  justify-content: center;
  padding-top: 16px;
}

.icon {
  cursor: pointer;
  font-size: 22px;
}

.content {
  flex: 1;
  padding: 24px;
  background: #f3f4f6;
}


---

‚úÖ What you now have

‚úî Matches your file naming exactly
‚úî Only one extra component (SubSidebar)
‚úî App owns layout & logic
‚úî Clean standalone Angular

This is exactly how Angular teams are doing it now üëå

If you want, next I can:

Add slide-in animation (CSS only)

Add overlay behind sub sidebar

Make sidebar responsive

Wire it with router navigation


Just tell me üëç
