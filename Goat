Thanks for the clarification! Since you're using Angular and the "+" button doesn't open the modal, the issue likely lies in one of the following:

1. The modal component is not connected or used correctly.


2. Angular doesnâ€™t recognize the button click event.


3. The logic to open the modal is missing or misconfigured.




---

Letâ€™s Fix It in Angular

Assuming you want to show a modal to add currency details:

1. Component Template (currencies.component.html)

<div class="toolbar">
  <button (click)="openModal()">+</button>
</div>

<table>
  <thead>
    <tr>
      <th>Abbreviation</th>
      <th>Description</th>
      <th>Decimal Places</th>
      <th>Decimal Char</th>
      <th>Thousand Separator</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let currency of currencies">
      <td>{{ currency.abbr }}</td>
      <td>{{ currency.desc }}</td>
      <td>{{ currency.decimalPlaces }}</td>
      <td>{{ currency.decimalChar }}</td>
      <td>{{ currency.thousandSeparator }}</td>
    </tr>
  </tbody>
</table>

<!-- Modal -->
<div *ngIf="showModal" class="modal-overlay">
  <div class="modal">
    <h3>Add Currency</h3>
    <input [(ngModel)]="newCurrency.abbr" placeholder="Abbreviation" />
    <input [(ngModel)]="newCurrency.desc" placeholder="Description" />
    <input type="number" [(ngModel)]="newCurrency.decimalPlaces" placeholder="Decimal Places" />
    <input [(ngModel)]="newCurrency.decimalChar" placeholder="Decimal Char" />
    <input [(ngModel)]="newCurrency.thousandSeparator" placeholder="Thousand Separator" />
    <button (click)="saveCurrency()">Save</button>
    <button (click)="closeModal()">Cancel</button>
  </div>
</div>

2. Component Class (currencies.component.ts)

import { Component } from '@angular/core';

@Component({
  selector: 'app-currencies',
  templateUrl: './currencies.component.html',
  styleUrls: ['./currencies.component.css']
})
export class CurrenciesComponent {
  currencies: any[] = [];
  showModal = false;

  newCurrency = {
    abbr: '',
    desc: '',
    decimalPlaces: 0,
    decimalChar: '',
    thousandSeparator: ''
  };

  openModal() {
    this.showModal = true;
  }

  closeModal() {
    this.showModal = false;
    this.resetForm();
  }

  saveCurrency() {
    if (!this.newCurrency.abbr || !this.newCurrency.desc) {
      alert('Abbreviation and Description are required!');
      return;
    }
    this.currencies.push({ ...this.newCurrency });
    this.closeModal();
  }

  resetForm() {
    this.newCurrency = {
      abbr: '',
      desc: '',
      decimalPlaces: 0,
      decimalChar: '',
      thousandSeparator: ''
    };
  }
}

3. Style (currencies.component.css)

.modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal {
  background: white;
  padding: 20px;
  border-radius: 5px;
  width: 300px;
}

4. Donâ€™t Forget to Import FormsModule

In app.module.ts:

import { FormsModule } from '@angular/forms';

@NgModule({
  declarations: [CurrenciesComponent],
  imports: [BrowserModule, FormsModule],
})
export class AppModule {}


---

After This:

Clicking "+" opens a modal popup.

You can enter data and click Save.

The table updates.

Modal closes.


Let me know if you're using Angular Material or a different modal systemâ€”I can adjust the code accordingly.


    




  










<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Currencies</title>
  <style>
    .toolbar {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 10px;
    }
    .toolbar button {
      margin-left: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
    }
    th {
      background-color: #f0f0f0;
    }
    .status-icon {
      font-weight: bold;
    }
    .valid {
      color: green;
    }
    .warning {
      color: orange;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>

  <div class="toolbar">
    <button onclick="addCurrency()">+</button>
    <button onclick="refreshTable()">âŸ³</button>
    <button onclick="deleteSelected()">ðŸ—‘</button>
  </div>

  <table id="currencyTable">
    <thead>
      <tr>
        <th>Select</th>
        <th>Status</th>
        <th>Abbreviation</th>
        <th>Description</th>
        <th>Decimal Places</th>
        <th>Decimal Char</th>
        <th>Thousand Separator</th>
      </tr>
    </thead>
    <tbody id="currencyBody">
      <!-- Rows will be added dynamically -->
    </tbody>
  </table>

  <script>
    let currencies = [];

    function addCurrency() {
      const newCurrency = {
        id: Date.now(),
        abbreviation: '',
        description: '',
        decimalPlaces: 2,
        decimalChar: '.',
        thousandSeparator: ',',
        selected: false,
        status: 'warning'
      };
      currencies.push(newCurrency);
      renderTable();
    }

    function deleteSelected() {
      currencies = currencies.filter(c => !c.selected);
      renderTable();
    }

    function refreshTable() {
      renderTable();
    }

    function updateCurrency(index, field, value) {
      currencies[index][field] = field === 'decimalPlaces' ? parseInt(value) : value;
      validate(index);
    }

    function toggleSelection(index) {
      currencies[index].selected = !currencies[index].selected;
    }

    function validate(index) {
      const c = currencies[index];
      if (!c.abbreviation || !c.description) {
        c.status = 'error';
      } else if (c.decimalPlaces < 0 || c.decimalPlaces > 6 || !['.', ','].includes(c.decimalChar)) {
        c.status = 'warning';
      } else {
        c.status = 'valid';
      }
      renderTable();
    }

    function renderTable() {
      const tbody = document.getElementById('currencyBody');
      tbody.innerHTML = '';
      currencies.forEach((c, i) => {
        const row = document.createElement('tr');

        row.innerHTML = `
          <td><input type="checkbox" ${c.selected ? 'checked' : ''} onchange="toggleSelection(${i})"></td>
          <td><span class="status-icon ${c.status}">${c.status === 'valid' ? 'âœ“' : c.status === 'warning' ? '!' : 'Ã—'}</span></td>
          <td><input type="text" value="${c.abbreviation}" oninput="updateCurrency(${i}, 'abbreviation', this.value)"></td>
          <td><input type="text" value="${c.description}" oninput="updateCurrency(${i}, 'description', this.value)"></td>
          <td><input type="number" value="${c.decimalPlaces}" oninput="updateCurrency(${i}, 'decimalPlaces', this.value)"></td>
          <td><input type="text" maxlength="1" value="${c.decimalChar}" oninput="updateCurrency(${i}, 'decimalChar', this.value)"></td>
          <td><input type="text" value="${c.thousandSeparator}" oninput="updateCurrency(${i}, 'thousandSeparator', this.value)"></td>
        `;
        tbody.appendChild(row);
      });
    }

    // Initial seed
    addCurrency();
  </script>

</body>
</html>













import { Injectable } from '@angular/core';
import { Currency } from './currency.model';

@Injectable({
  providedIn: 'root'
})
export class CurrencyService {
  private currencies: Currency[] = [
    {
      id: 1,
      abbreviation: 'USD',
      description: 'US Dollar',
      decimalPlaces: 2,
      decimalChar: '.',
      thousandSeparator: ',',
      status: 'valid'
    }
  ];

  getCurrencies(): Currency[] {
    return [...this.currencies];
  }

  addCurrency(): Currency {
    const newCurrency: Currency = {
      id: Date.now(),
      abbreviation: '',
      description: '',
      decimalPlaces: 2,
      decimalChar: '.',
      thousandSeparator: ',',
      status: 'warning'
    };
    this.currencies.push(newCurrency);
    return newCurrency;
  }

  deleteCurrencies(ids: number[]) {
    this.currencies = this.currencies.filter(c => !ids.includes(c.id));
  }

  refreshCurrencies(): Currency[] {
    return this.getCurrencies();
  }
}
```

---

## 3. **Component TS** (`currencies.component.ts`)

```ts
import { Component, OnInit } from '@angular/core';
import { Currency } from './currency.model';
import { CurrencyService } from './currency.service';

@Component({
  selector: 'app-currencies',
  templateUrl: './currencies.component.html',
  styleUrls: ['./currencies.component.css']
})
export class CurrenciesComponent implements OnInit {
  currencies: Currency[] = [];
  displayedColumns: string[] = ['select', 'status', 'abbreviation', 'description', 'decimalPlaces', 'decimalChar', 'thousandSeparator'];
  selectedIds: Set<number> = new Set();

  constructor(private currencyService: CurrencyService) {}

  ngOnInit(): void {
    this.currencies = this.currencyService.getCurrencies();
  }

  addCurrency(): void {
    const newCurrency = this.currencyService.addCurrency();
    this.currencies = this.currencyService.getCurrencies();
  }

  deleteSelected(): void {
    this.currencyService.deleteCurrencies(Array.from(this.selectedIds));
    this.selectedIds.clear();
    this.currencies = this.currencyService.getCurrencies();
  }

  refresh(): void {
    this.currencies = this.currencyService.refreshCurrencies();
  }

  toggleSelection(id: number): void {
    this.selectedIds.has(id) ? this.selectedIds.delete(id) : this.selectedIds.add(id);
  }

  validate(currency: Currency): void {
    const { abbreviation, description, decimalPlaces, decimalChar } = currency;
    if (!abbreviation || !description) {
      currency.status = 'error';
    } else if (decimalPlaces < 0 || decimalPlaces > 6 || !['.', ','].includes(decimalChar)) {
      currency.status = 'warning';
    } else {
      currency.status = 'valid';
    }
  }
}
```

---

## 4. **Component HTML** (`currencies.component.html`)

```html
<mat-card>
  <mat-toolbar>
    <button mat-icon-button (click)="addCurrency()"><mat-icon>add</mat-icon></button>
    <button mat-icon-button (click)="refresh()"><mat-icon>refresh</mat-icon></button>
    <button mat-icon-button (click)="deleteSelected()" [disabled]="selectedIds.size === 0"><mat-icon>delete</mat-icon></button>
  </mat-toolbar>

  <table mat-table [dataSource]="currencies" class="mat-elevation-z8">

    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let c">
        <mat-checkbox (change)="toggleSelection(c.id)" [checked]="selectedIds.has(c.id)"></mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let c">
        <mat-icon *ngIf="c.status === 'valid'" color="primary">check_circle</mat-icon>
        <mat-icon *ngIf="c.status === 'warning'" color="accent">warning</mat-icon>
        <mat-icon *ngIf="c.status === 'error'" color="warn">error</mat-icon>
      </td>
    </ng-container>

    <ng-container matColumnDef="abbreviation">
      <th mat-header-cell *matHeaderCellDef>Abbreviation</th>
      <td mat-cell *matCellDef="let c">
        <input matInput [(ngModel)]="c.abbreviation" (ngModelChange)="validate(c)">
      </td>
    </ng-container>

    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef>Description</th>
      <td mat-cell *matCellDef="let c">
        <input matInput [(ngModel)]="c.description" (ngModelChange)="validate(c)">
      </td>
    </ng-container>

    <ng-container matColumnDef="decimalPlaces">
      <th mat-header-cell *matHeaderCellDef>No. of Decimal Places</th>
      <td mat-cell *matCellDef="let c">
        <input type="number" matInput [(ngModel)]="c.decimalPlaces" (ngModelChange)="validate(c)" min="0" max="6">
      </td>
    </ng-container>

    <ng-container matColumnDef="decimalChar">
      <th mat-header-cell *matHeaderCellDef>Decimal Char</th>
      <td mat-cell *matCellDef="let c">
        <input matInput [(ngModel)]="c.decimalChar" (ngModelChange)="validate(c)" maxlength="1">
      </td>
    </ng-container>

    <ng-container matColumnDef="thousandSeparator">
      <th mat-header-cell *matHeaderCellDef>Thousand Separator</th>
      <td mat-cell *matCellDef="let c">
        <input matInput [(ngModel)]="c.thousandSeparator">
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</mat-card>
```

---

## 5. **Component CSS** (`currencies.component.css`)

```css
mat-card {
  margin: 20px;
}

mat-toolbar {
  background: #f5f5f5;
  margin-bottom: 10px;
}

table {
  width: 100%;
}
```

---

Let me know if you want:

* Modal/dialog for adding/editing?
* Backend API integration?
* Unit tests or export to Excel?

I can help with all of it.
       
